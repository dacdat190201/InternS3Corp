import React, { useContext, useEffect, useState } from 'react';
import './CheckoutMobile.css';
import '../viewcart/ViewCartMobile.css';
import '../../../../pages/signup/signUp/SignUp.css';
import { Link, useNavigate } from 'react-router-dom';
import BarBack from '../../../common/BarBack';
import AuthContext from '../../../../services/auth/context/AuthContext';
import '../../../../pages/404error/Error.css';
import ButtonView from '../../../common/ButtonView';
import emailjs from '@emailjs/browser';
import ArrowForwardIcon from '@mui/icons-material/ArrowForward';
import json from '../../../../datafake/chudeData.json';
import LoadingComponent from '../../../../component/common/LoadingComponent';
import { ShowAlert } from '../../../../utils/ToastAlert';
import { ShowError } from '../../../../utils/ToastAlert';
const CheckOutMobile = () => {
    const { token, clearCart, cartItems, addInfor, getCartTotal, history } = useContext(AuthContext);
    const inforAddress = history.find((item) => item.primary === true);

    const navigate = useNavigate();
    // const [checkRdo, setCheckRdo] = useState("Cash on delivery");
    const [discount, setDiscount] = useState('');
    const [text, setText] = useState('');
    const [dis, setDis] = useState('');
    const [loading, setLoading] = useState(false);
    useEffect(() => {
        if (!token.token) {
            navigate('/');
        }
        setDiscount(json.data);
        emailjs.init('rs02wz8JPvIUnJrNB');
    }, [token.token, navigate]);
    const getDiscount = () => {
        if (!text) {
            ShowError('Please enter discount code');

            setDis(0);
        } else if (!discount.find((item) => item.id === text)) {
            ShowError('No discount code found');

            setDis(0);
        } else {
            if (discount.find((item) => item.allowance < getCartTotal())) {
                setDis(discount.find((item) => item.id === text));
            } else ShowError('The condition is not satisfied');
        }
    };
    const allTotal = () => {
        if (dis) {
            return getCartTotal() - dis.discount;
        } else return getCartTotal();
    };
    const handleSubmit = async (e) => {
        e.preventDefault();

        const serviceId = 'service_k19plts';
        const templateId = 'template_7pzoq0l';
        try {
            setLoading(true);
            await emailjs.send(serviceId, templateId, {
                from_name: inforAddress.my_email,
                first_name: inforAddress.first_name,
                company_name: inforAddress.company_name,
                address: inforAddress.town_city,
                town_city: inforAddress.town_city,
                phone_number: inforAddress.phone_number,
                my_email: inforAddress.my_email,
                item_name: cartItems.map((item) => item.item.title),
                // item_qty: totalQty(),
                my_discount: dis.discount,
                item_total: getCartTotal(),
                date: new Date(),
                total: allTotal(),
                payment: 'Cash on delivery',
                userToken: token.username,
            });
            addInfor({
                item: {
                    from_name: inforAddress.my_email,
                    first_name: inforAddress.first_name,
                    company_name: inforAddress.company_name,
                    address: inforAddress.address,
                    town_city: inforAddress.town_city,
                    phone_number: inforAddress.phone_number,
                    my_email: inforAddress.my_email,
                    cart: cartItems,
                    my_discount: dis.discount,
                    item_total: getCartTotal(),
                    date: new Date(),
                    total: allTotal(),
                    payment: 'Cash on delivery',
                },
                status: {
                    name: 'confirm',
                    message: [{ title: 'Please confirm your order', date: new Date() }],
                },
            });
            ShowAlert('email successfully sent check inbox');
            clearCart();
        } catch (error) {
            ShowError('Please check the information again');
        } finally {
            setLoading(false);
        }
    };
    if (loading) {
        return (
            <>
                <LoadingComponent loading={loading} />
            </>
        );
    }
    if (cartItems.length === 0) {
        return (
            <div style={{ marginBottom: 80 }}>
                <div>
                    <BarBack link="home" />
                </div>
                <div className="error__404">
                    <div className="error__container">
                        <img src={require('../../../../assets/slide/bags.png')} alt="shopping none" />
                    </div>
                    <div className="error-btn">
                        <Link to="/products" style={{ color: 'black', textDecoration: 'none' }}>
                            <button>Go to Shopping</button>
                        </Link>
                    </div>
                </div>
            </div>
        );
    } else {
        return (
            <div className="checkoutMobile">
                <div>
                    <BarBack link="cart" title="CheckOut" search={true} />
                </div>
                <div className="checkoutM-items">
                    <div className="BreadName">Shipping Address</div>
                    {inforAddress ? (
                        <div className="checkoutM__items-address">
                            <div className="checkoutM__address-left">
                                <div className="titleItem500">
                                    {inforAddress?.first_name}&nbsp;
                                    {inforAddress?.company_name}
                                </div>
                                <div className="titleSubItem600">{inforAddress?.address}</div>

                                <div className="titleSubItem600">{inforAddress?.town_city}</div>

                                <div className="titleSubItem600">{inforAddress?.my_email}</div>
                            </div>
                            <Link
                                to={'/ShippingSave'}
                                style={{ textDecoration: 'none' }}
                                className="checkoutM__address-right"
                            >
                                <p>Change</p>
                            </Link>
                        </div>
                    ) : (
                        <div className="checkoutM__items-address">
                            <div className="checkoutM__address-left">
                                <p>Refresh</p>
                            </div>
                            <Link
                                to={'/ShippingSave'}
                                style={{ textDecoration: 'none' }}
                                className="checkoutM__address-right"
                            >
                                <p>Add</p>
                            </Link>
                        </div>
                    )}

                    <div className="checkoutM__items-payment">
                        <div className="checkoutM__address-left">
                            <div className="BreadName">Payment</div>
                        </div>
                        <Link
                            to={'/payment+method'}
                            style={{ textDecoration: 'none' }}
                            className="checkoutM__address-right"
                        >
                            <p>Change</p>
                        </Link>
                    </div>
                    <div className="checkoutM__items-PayItems">
                        <svg width="32" height="25" viewBox="0 0 32 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <g clipPath="url(#clip0_2_1749)">
                                <path
                                    d="M5.81743 24.8757V23.221C5.81743 22.5867 5.43326 22.173 4.77469 22.173C4.4454 22.173 4.08867 22.2833 3.84171 22.6418C3.64962 22.3385 3.37522 22.173 2.96361 22.173C2.6892 22.173 2.4148 22.2557 2.19527 22.5591V22.2282H1.61902V24.8757H2.19527V23.414C2.19527 22.9452 2.44224 22.7246 2.8264 22.7246C3.21057 22.7246 3.40266 22.9728 3.40266 23.414V24.8757H3.97891V23.414C3.97891 22.9452 4.25332 22.7246 4.61004 22.7246C4.99421 22.7246 5.1863 22.9728 5.1863 23.414V24.8757H5.81743ZM14.3515 22.2282H13.4185V21.4284H12.8422V22.2282H12.3208V22.7521H12.8422V23.9656C12.8422 24.5723 13.0892 24.9308 13.7478 24.9308C13.9947 24.9308 14.2691 24.8481 14.4612 24.7378L14.2966 24.2414C14.1319 24.3517 13.9398 24.3793 13.8026 24.3793C13.5282 24.3793 13.4185 24.2138 13.4185 23.938V22.7521H14.3515V22.2282ZM19.2359 22.173C18.9066 22.173 18.6871 22.3385 18.5499 22.5591V22.2282H17.9736V24.8757H18.5499V23.3865C18.5499 22.9452 18.7419 22.697 19.0987 22.697C19.2084 22.697 19.3456 22.7246 19.4554 22.7521L19.62 22.2006C19.5103 22.173 19.3456 22.173 19.2359 22.173ZM11.8544 22.4488C11.58 22.2557 11.1958 22.173 10.7842 22.173C10.1256 22.173 9.68655 22.5039 9.68655 23.0279C9.68655 23.4692 10.0158 23.7174 10.5921 23.8001L10.8665 23.8277C11.1683 23.8829 11.333 23.9656 11.333 24.1035C11.333 24.2965 11.1135 24.4344 10.7293 24.4344C10.3451 24.4344 10.0433 24.2965 9.8512 24.1587L9.57679 24.5999C9.87864 24.8205 10.2902 24.9308 10.7019 24.9308C11.4702 24.9308 11.9092 24.5723 11.9092 24.0759C11.9092 23.6071 11.5525 23.3589 11.0037 23.2761L10.7293 23.2486C10.4823 23.221 10.2902 23.1658 10.2902 23.0004C10.2902 22.8073 10.4823 22.697 10.7842 22.697C11.1135 22.697 11.4427 22.8349 11.6074 22.9176L11.8544 22.4488ZM27.1662 22.173C26.8369 22.173 26.6174 22.3385 26.4802 22.5591V22.2282H25.9039V24.8757H26.4802V23.3865C26.4802 22.9452 26.6723 22.697 27.029 22.697C27.1388 22.697 27.276 22.7246 27.3857 22.7521L27.5504 22.2006C27.4406 22.173 27.276 22.173 27.1662 22.173ZM19.8121 23.5519C19.8121 24.3517 20.3609 24.9308 21.2116 24.9308C21.5958 24.9308 21.8702 24.8481 22.1446 24.6275L21.8702 24.1587C21.6507 24.3241 21.4311 24.4069 21.1842 24.4069C20.7177 24.4069 20.3884 24.0759 20.3884 23.5519C20.3884 23.0555 20.7177 22.7246 21.1842 22.697C21.4311 22.697 21.6507 22.7797 21.8702 22.9452L22.1446 22.4764C21.8702 22.2557 21.5958 22.173 21.2116 22.173C20.3609 22.173 19.8121 22.7521 19.8121 23.5519ZM25.1356 23.5519V22.2282H24.5594V22.5591C24.3673 22.3109 24.0929 22.173 23.7361 22.173C22.9952 22.173 22.419 22.7521 22.419 23.5519C22.419 24.3517 22.9952 24.9308 23.7361 24.9308C24.1203 24.9308 24.3947 24.793 24.5594 24.5447V24.8757H25.1356V23.5519ZM23.0227 23.5519C23.0227 23.0831 23.3245 22.697 23.8185 22.697C24.2849 22.697 24.6142 23.0555 24.6142 23.5519C24.6142 24.0208 24.2849 24.4069 23.8185 24.4069C23.3245 24.3793 23.0227 24.0208 23.0227 23.5519ZM16.1351 22.173C15.3668 22.173 14.8179 22.7246 14.8179 23.5519C14.8179 24.3793 15.3668 24.9308 16.1625 24.9308C16.5467 24.9308 16.9309 24.8205 17.2327 24.5723L16.9583 24.1587C16.7388 24.3241 16.4644 24.4344 16.19 24.4344C15.8332 24.4344 15.4765 24.269 15.3942 23.8001H17.3425V23.5795C17.3699 22.7246 16.876 22.173 16.1351 22.173ZM16.1351 22.6694C16.4918 22.6694 16.7388 22.89 16.7937 23.3037H15.4216C15.4765 22.9452 15.7235 22.6694 16.1351 22.6694ZM30.4316 23.5519V21.1802H29.8554V22.5591C29.6633 22.3109 29.3889 22.173 29.0322 22.173C28.2913 22.173 27.715 22.7521 27.715 23.5519C27.715 24.3517 28.2913 24.9308 29.0322 24.9308C29.4163 24.9308 29.6907 24.793 29.8554 24.5447V24.8757H30.4316V23.5519ZM28.3187 23.5519C28.3187 23.0831 28.6206 22.697 29.1145 22.697C29.581 22.697 29.9103 23.0555 29.9103 23.5519C29.9103 24.0208 29.581 24.4069 29.1145 24.4069C28.6206 24.3793 28.3187 24.0208 28.3187 23.5519ZM9.05542 23.5519V22.2282H8.47917V22.5591C8.28708 22.3109 8.01268 22.173 7.65595 22.173C6.91505 22.173 6.3388 22.7521 6.3388 23.5519C6.3388 24.3517 6.91505 24.9308 7.65595 24.9308C8.04012 24.9308 8.31452 24.793 8.47917 24.5447V24.8757H9.05542V23.5519ZM6.91505 23.5519C6.91505 23.0831 7.2169 22.697 7.71083 22.697C8.17732 22.697 8.50661 23.0555 8.50661 23.5519C8.50661 24.0208 8.17732 24.4069 7.71083 24.4069C7.2169 24.3793 6.91505 24.0208 6.91505 23.5519Z"
                                    fill="black"
                                />
                                <path d="M20.306 2.12366H11.6622V17.7331H20.306V2.12366Z" fill="#FF5F00" />
                                <path
                                    d="M12.2111 9.92826C12.2111 6.75673 13.6929 3.94372 15.9704 2.12354C14.2965 0.799776 12.1836 0 9.87861 0C4.41794 0 0 4.44014 0 9.92826C0 15.4164 4.41794 19.8565 9.87861 19.8565C12.1836 19.8565 14.2965 19.0567 15.9704 17.733C13.6929 15.9404 12.2111 13.0998 12.2111 9.92826Z"
                                    fill="#EB001B"
                                />
                                <path
                                    d="M31.9684 9.92826C31.9684 15.4164 27.5504 19.8565 22.0897 19.8565C19.7847 19.8565 17.6718 19.0567 15.9979 17.733C18.3029 15.9128 19.7573 13.0998 19.7573 9.92826C19.7573 6.75673 18.2755 3.94372 15.9979 2.12354C17.6718 0.799776 19.7847 0 22.0897 0C27.5504 0 31.9684 4.46772 31.9684 9.92826Z"
                                    fill="#F79E1B"
                                />
                            </g>
                            <defs>
                                <clipPath id="clip0_2_1749">
                                    <rect width="32" height="25" fill="white" />
                                </clipPath>
                            </defs>
                        </svg>
                        <div>
                            <div className="titleItem500">**** **** **** 5826</div>
                        </div>
                    </div>
                    <div className="checkoutM__items-payment">
                        <div className="checkoutM__address-left">
                            <div className="BreadName">Discount</div>
                        </div>

                        <Link target="_blank" to="/discounts" className="checkout__getcoupon">
                            Get Coupon
                        </Link>
                    </div>
                    <div className="checkoutM__items-Discount">
                        <input type="text" placeholder="Coupon Code" onChange={(e) => setText(e.target.value)} />
                        <div className="VC__discount-btn" onClick={() => getDiscount()}>
                            <ArrowForwardIcon />
                        </div>
                    </div>
                    <div className="checkoutM__items-payment">
                        <div className="checkoutM__address-left">
                            <div className="BreadName">Delivery method</div>
                        </div>
                    </div>
                    <div className="checkoutM__items-Delivery">
                        <svg width="61" height="17" viewBox="0 0 61 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <g clipPath="url(#clip0_2_1780)">
                                <path
                                    d="M0.00796917 0.0115184C3.37439 -0.0104495 6.74083 0.0062461 10.1082 0.00362753C10.1218 1.23207 10.1216 2.46052 10.1073 3.68895C8.26572 3.69952 6.42356 3.69952 4.58081 3.68895C4.56803 4.45432 4.57259 5.21968 4.57808 5.98503C6.27359 5.97362 7.96823 5.98241 9.66376 5.9789C9.67105 6.65548 9.66651 7.33211 9.66285 8.00874C10.0525 7.45508 10.5234 6.95872 11.0609 6.53513C11.9555 5.89532 13.0123 5.49894 14.1207 5.38752C15.2167 5.3269 16.3501 5.3102 17.3904 5.69769C18.7191 6.11422 19.8233 7.07991 20.463 8.26708C20.6359 8.59873 20.7898 8.93931 20.9238 9.28726C21.371 7.87427 22.3876 6.61597 23.7582 5.93406C25.0104 5.33368 26.4533 5.21583 27.7927 5.60454C28.4552 5.80577 29.0228 6.20737 29.4964 6.68891C29.5028 4.4596 29.4992 2.23118 29.4973 0.0018701C30.8397 0.00714239 32.1811 -0.00954443 33.5226 0.0124235C33.4925 3.19159 33.519 6.37166 33.5098 9.55087C33.5153 11.8224 33.5007 14.0947 33.5171 16.3662C32.1958 16.4066 30.8744 16.3829 29.553 16.382C29.5457 16.0261 29.5436 15.6708 29.5466 15.3161L29.5128 15.3645C28.906 16.1316 28.0528 16.7423 27.0562 16.9286C25.7956 17.1326 24.501 16.8833 23.4187 16.2283C21.892 15.3056 20.8764 13.6738 20.6811 11.9568C18.1853 11.9497 15.6894 11.9585 13.1935 11.9515C13.0539 11.9603 12.9024 11.9366 12.7747 12.0016C12.8021 12.3546 12.9115 12.6972 13.0947 13.0041C13.2779 13.3109 13.5303 13.5743 13.8333 13.7748C14.5249 14.2362 15.4603 14.2564 16.2214 13.948C16.5545 13.7775 16.7899 13.4805 17.0281 13.2072C18.3258 13.2239 19.6244 13.2002 20.922 13.2151C20.4055 14.5367 19.4199 15.7274 18.0803 16.3425C16.8374 16.9277 15.3992 17.0525 14.0395 16.8882C12.4389 16.6843 10.9185 15.8592 9.96946 14.5921C9.21319 13.5879 8.81984 12.3726 8.84975 11.1326C8.82604 10.5922 8.93371 10.0596 8.99942 9.52539C7.52564 9.52101 6.05185 9.52453 4.57808 9.52362C4.57259 11.8197 4.57229 14.1161 4.57716 16.4127C3.0541 16.4356 1.53011 16.4127 0.00614405 16.4242C0.000659566 10.9533 0.00126794 5.48241 0.00796917 0.0115184ZM13.8268 8.22224C13.356 8.52366 13.0904 9.0245 12.9179 9.52715C14.347 9.53594 15.7742 9.56495 17.2024 9.52715C17.0619 9.12559 16.9122 8.6994 16.5746 8.40768C15.8445 7.76092 14.6408 7.66249 13.8268 8.22224ZM26.579 8.3927C25.5752 8.6256 24.9327 9.57198 24.8004 10.5139C24.5732 11.535 24.8688 12.7064 25.7129 13.3979C26.5178 14.0701 27.8428 14.0332 28.6149 13.3294C29.3395 12.5983 29.4782 11.5104 29.3458 10.5473C29.2217 9.8927 28.9854 9.19852 28.426 8.76792C27.914 8.36547 27.2141 8.26708 26.579 8.39271V8.3927Z"
                                    fill="#312280"
                                />
                                <path
                                    d="M33.5221 0.0124512C36.6823 0.0229606 39.8419 0.0232477 43.0009 0.0133123C43.0027 1.23472 43.0054 2.45527 42.9991 3.67667C41.1831 3.71975 39.3643 3.68633 37.5465 3.69336C37.5365 4.45963 37.4762 5.23464 37.5903 5.99561C39.3999 5.9833 41.2086 5.99124 43.0182 5.99124C42.9808 7.16344 43.0191 8.33738 42.9963 9.51048C41.1949 9.51752 39.3944 9.514 37.593 9.51225C37.4771 10.1344 37.5492 10.7679 37.5301 11.3962C37.5319 11.8479 37.5018 12.3039 37.5876 12.7521C39.3753 12.7406 41.1639 12.7284 42.9516 12.7547C43.072 13.1 42.9726 13.4928 43.0018 13.8566C43.0374 14.6439 42.9178 15.4453 43.0949 16.2213C43.7419 15.6052 44.304 14.9119 44.941 14.2863C45.4739 13.6317 46.089 13.0473 46.6475 12.4138C47.0143 12.0122 47.4441 11.6581 47.7498 11.2082C47.7057 11.1226 47.6512 11.0423 47.5874 10.9692C46.683 9.99288 45.7778 9.01808 44.8716 8.04477C44.2748 7.35149 43.5822 6.73549 43.0319 6.00703C44.2182 5.96927 45.4073 5.99914 46.5945 5.98948C47.08 5.99999 47.5673 5.964 48.0519 6.00703C48.9197 6.77063 49.595 7.72405 50.4948 8.45954C51.1245 7.75129 51.7879 7.07381 52.4002 6.35148C52.5554 6.19067 52.7078 5.9464 52.9733 5.98858C54.5165 5.99999 56.0605 5.96927 57.6037 6.00527C57.4043 6.3025 57.1727 6.57851 56.9128 6.82864C55.5841 8.27063 54.2263 9.68799 52.925 11.1519C53.3968 11.8575 54.094 12.3971 54.6369 13.0535C55.3944 13.8188 56.1125 14.6185 56.8517 15.4005C57.1474 15.7353 57.4786 16.0437 57.7186 16.4207C56.1691 16.4435 54.6177 16.4198 53.0673 16.4304C52.8857 16.4207 52.6685 16.4602 52.5335 16.3126C51.7779 15.4954 51.0369 14.6615 50.2521 13.8689C49.5731 14.6158 48.8586 15.332 48.2061 16.1017C48.0665 16.2511 47.9287 16.4647 47.6868 16.4277C41.6266 16.4321 35.5657 16.4292 29.5041 16.419C29.4977 16.0675 29.4868 15.7151 29.5123 15.3645L29.5461 15.3162C29.5425 15.6712 29.5446 16.0265 29.5525 16.3821C30.8739 16.3829 32.1953 16.4066 33.5166 16.3662C33.5002 14.0947 33.5148 11.8224 33.5093 9.5509C33.5185 6.37169 33.492 3.19162 33.5221 0.0124512Z"
                                    fill="#FF5F00"
                                />
                                <path
                                    d="M59.6714 14.3031C60.3093 14.1195 61.0923 14.6854 60.991 15.3497C61.1105 16.159 60.0054 16.651 59.353 16.2416C58.5079 15.8593 58.7406 14.4367 59.6714 14.3031ZM59.6824 14.5184C59.3274 14.6212 58.9943 14.9718 59.0445 15.3497C58.9961 15.9613 59.7983 16.3909 60.3348 16.1001C60.9007 15.854 60.9682 14.9876 60.4635 14.6502C60.2345 14.5026 59.948 14.492 59.6824 14.5184V14.5184Z"
                                    fill="#FF5F00"
                                />
                                <path
                                    d="M59.4797 14.6913C59.7635 14.7001 60.0747 14.636 60.3357 14.7731C60.3322 15.1407 60.3492 15.5082 60.3868 15.8741C60.364 15.9233 60.3193 16.0208 60.2964 16.07C60.1468 15.8152 60.0866 15.4988 59.8183 15.3275C59.7535 15.556 59.6978 15.788 59.6349 16.0173C59.3574 15.6324 59.5464 15.1289 59.4797 14.6913ZM59.7544 14.9312C59.7581 15.0314 59.7626 15.1315 59.7672 15.2326C59.8612 15.2247 59.9561 15.2177 60.051 15.2115C60.0628 15.1193 60.0747 15.0279 60.0875 14.9365C59.9752 14.9347 59.8648 14.933 59.7544 14.9312Z"
                                    fill="#FF5F00"
                                />
                            </g>
                            <defs>
                                <clipPath id="clip0_2_1780">
                                    <rect width="61" height="17" fill="white" />
                                </clipPath>
                            </defs>
                        </svg>
                        <svg width="82" height="11" viewBox="0 0 82 11" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <g clipPath="url(#clip0_2_1792)">
                                <path d="M14.4899 10.2501L16.6756 0H2.18576L0 10.2501H14.4899Z" fill="white" />
                                <path
                                    fillRule="evenodd"
                                    clipRule="evenodd"
                                    d="M10.7745 2.14986C12.4574 2.54083 12.501 2.95336 12.501 2.95336C13.5937 2.95336 13.878 2.95336 14.0746 3.14879C14.7084 3.73519 13.6375 5.16845 13.6375 5.16845C13.5065 5.25531 1.44238 9.94596 1.44238 9.94596H14.1402L16.1727 0.412598H2.53512C2.53512 0.412598 10.5778 2.10637 10.7745 2.14986Z"
                                    fill="#333366"
                                />
                                <path
                                    fillRule="evenodd"
                                    clipRule="evenodd"
                                    d="M12.0203 3.53962C11.7368 3.63566 11.4437 3.70122 11.1461 3.73517C10.9712 3.75683 10.8838 3.75683 10.8838 3.80022C10.8838 3.86553 11.1241 3.84371 11.2117 3.84371C11.6051 3.84371 13.1568 3.73517 13.5283 3.80022C13.8124 3.84371 13.4845 4.40829 13.3971 4.75576C13.3753 4.88601 13.4627 4.82094 13.5065 4.75576C13.6959 4.45885 13.843 4.13727 13.9435 3.80022C13.9873 3.36598 13.6812 3.30082 13.1568 3.30082H12.3481C12.3251 3.29755 12.3017 3.30224 12.2818 3.31411C12.2619 3.32599 12.2467 3.34431 12.2388 3.36601C12.1733 3.43105 12.0641 3.49613 12.0203 3.53963L12.0203 3.53962Z"
                                    fill="#333366"
                                />
                                <path
                                    fillRule="evenodd"
                                    clipRule="evenodd"
                                    d="M6.99379 6.75375L0.502747 9.94596L2.07637 2.62769H8.63276C8.742 2.62769 12.1514 2.62769 12.2171 3.30084H6.31622L7.23398 6.0805C8.2832 5.58097 10.862 4.53867 12.4137 4.47336C13.0694 4.45168 13.3315 4.56022 13.2005 4.64724C13.1131 4.69059 12.4793 4.77746 11.9765 4.90785C11.3552 5.04698 10.7422 5.22095 10.1407 5.42891C9.06753 5.81153 8.01691 6.25384 6.9938 6.75375H6.99379Z"
                                    fill="#333366"
                                />
                                <path
                                    fillRule="evenodd"
                                    clipRule="evenodd"
                                    d="M20.5874 10.163C18.0522 10.163 16.5442 9.16397 17.0469 6.92733C17.8774 3.06188 18.4238 0.477783 18.4238 0.477783H20.5437C20.5437 0.477783 19.2543 6.42781 19.2978 6.29759C18.9701 7.77422 19.2978 8.66459 20.9152 8.66459C22.4669 8.66459 23.2537 7.77421 23.5815 6.29759C23.7781 5.45059 24.8272 0.477783 24.8272 0.477783H26.9472C25.5266 6.92735 26.9472 0.477783 25.5484 6.92735C25.0239 9.14243 23.1007 10.163 20.5874 10.163V10.163Z"
                                    fill="#333366"
                                />
                                <path
                                    fillRule="evenodd"
                                    clipRule="evenodd"
                                    d="M38.2683 6.36277C37.8074 6.35811 37.3474 6.32184 36.8915 6.25423L37.1537 4.88602C37.416 4.90783 37.7656 4.95131 38.0935 4.95131C38.5723 4.98922 39.0485 4.85084 39.4313 4.56251C39.8142 4.27419 40.0769 3.85605 40.1696 3.38769C40.3881 2.34525 39.8637 1.97611 39.0987 1.97611H37.3722L35.6675 9.98932H33.5475L35.5801 0.477783H40.1696C42.2458 0.477783 42.4863 2.28019 42.224 3.47455C41.8306 5.25529 40.1477 6.36277 38.2683 6.36277H38.2683Z"
                                    fill="#333366"
                                />
                                <path
                                    fillRule="evenodd"
                                    clipRule="evenodd"
                                    d="M33.788 1.99791H31.5368C30.3786 1.99791 29.8759 2.23684 29.7665 2.69286C29.4386 4.21301 33.5693 5.40736 33.1759 7.75268C32.9573 9.05557 31.8209 9.98945 29.1764 9.98945H25.942L26.2697 8.46932H28.8486C29.6572 8.46932 30.6407 8.51282 30.8156 7.70918C31.1215 6.34123 27.0565 4.99469 27.3624 2.71456C27.5591 1.34646 28.783 0.477783 31.2527 0.477783L34.0938 0.477919L33.788 1.99791H33.788Z"
                                    fill="#333366"
                                />
                                <path
                                    fillRule="evenodd"
                                    clipRule="evenodd"
                                    d="M49.5454 1.99791H47.2945C46.136 1.99791 45.6334 2.23684 45.524 2.69286C45.1963 4.21301 49.3269 5.40736 48.9334 7.75268C48.7149 9.05557 47.5784 9.98945 44.934 9.98945H41.6993L42.0273 8.46932H44.628C45.4367 8.46932 46.4202 8.51282 46.595 7.70918C46.901 6.34123 42.8359 4.99469 43.1419 2.71456C43.3386 1.34646 44.5625 0.477783 47.0322 0.477783L49.8731 0.477919L49.5454 1.99791Z"
                                    fill="#333366"
                                />
                                <path
                                    fillRule="evenodd"
                                    clipRule="evenodd"
                                    d="M50.2665 8.29565C50.098 8.29568 49.9332 8.34537 49.793 8.43844C49.6529 8.53152 49.5437 8.66379 49.4792 8.81854C49.4147 8.97329 49.3979 9.14356 49.4308 9.30783C49.4637 9.4721 49.5448 9.62299 49.6641 9.74141C49.7833 9.85984 49.9351 9.94048 50.1004 9.97314C50.2658 10.0058 50.4371 9.98902 50.5929 9.92492C50.7486 9.86081 50.8817 9.75226 50.9753 9.613C51.069 9.47373 51.1189 9.31 51.1189 9.14251C51.1187 8.91796 51.0288 8.7027 50.869 8.54394C50.7091 8.38518 50.4925 8.29589 50.2665 8.29565Z"
                                    fill="#333366"
                                />
                                <path
                                    fillRule="evenodd"
                                    clipRule="evenodd"
                                    d="M81.9999 0.43457L79.9235 9.96766H78.1532L79.7272 2.88846L75.5092 9.96766H73.6952L72.6898 3.34429L71.2256 9.96766H69.4772L71.5094 0.43457H74.0446L75.1156 7.44859L79.2242 0.43457H81.9999Z"
                                    fill="#333366"
                                />
                                <path
                                    fillRule="evenodd"
                                    clipRule="evenodd"
                                    d="M55.8613 10.1632C54.7156 10.2131 53.5834 9.90142 52.6269 9.27272C52.1886 8.94201 51.8381 8.51008 51.6058 8.01437C51.3735 7.51866 51.2664 6.97412 51.2937 6.42797C51.2945 6.00365 51.3458 5.58091 51.4466 5.16859C52.146 1.75913 55.009 0.239014 57.9157 0.239014C58.6348 0.245676 59.3518 0.318358 60.0575 0.456134L60.2106 0.477943L59.861 2.01975L59.7298 1.99793C59.2489 1.95458 58.921 1.91121 58.484 1.91121C58.0897 1.91185 57.6957 1.93357 57.3037 1.97627C56.618 2.03116 55.9605 2.27149 55.4024 2.6712C54.815 3.03733 54.3279 3.54229 53.9847 4.14099C53.6415 4.73969 53.4528 5.41351 53.4354 6.10232C53.4165 6.46409 53.4958 6.82427 53.665 7.14517C53.8342 7.46607 54.087 7.7359 54.3971 7.92643C55.1381 8.35662 55.9873 8.56759 56.8448 8.53451C57.3271 8.53871 57.809 8.50972 58.2873 8.44776L58.5059 8.42597L58.178 9.9244L58.0688 9.94621C57.341 10.0839 56.6022 10.1565 55.8613 10.1632H55.8613Z"
                                    fill="#333366"
                                />
                                <path
                                    fillRule="evenodd"
                                    clipRule="evenodd"
                                    d="M65.5214 0.412598C62.5928 0.412598 60.1669 1.93274 59.4676 5.25531C58.8993 7.92629 60.5385 10.1197 63.4452 10.1197C66.3956 10.1197 68.7558 8.66474 69.499 5.25531C70.0673 2.47565 68.4063 0.412598 65.5214 0.412598ZM67.532 5.27699C67.0731 7.66569 65.6306 8.68645 63.8167 8.68645C62.0246 8.68645 61.0411 7.14451 61.369 5.27701C61.806 2.93157 63.2922 1.88928 65.0841 1.88928C66.8764 1.86759 67.9035 3.32254 67.532 5.27701V5.27699Z"
                                    fill="#333366"
                                />
                            </g>
                            <defs>
                                <clipPath id="clip0_2_1792">
                                    <rect width="82" height="10.25" fill="white" />
                                </clipPath>
                            </defs>
                        </svg>
                        <svg width="71" height="16" viewBox="0 0 71 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <g clipPath="url(#clip0_2_1759)">
                                <path d="M70.9998 0V16H0V0H70.9998Z" fill="#FFCC00" />
                                <path
                                    d="M12.4858 2.87329L10.2175 6.02032H22.5804C23.2054 6.02032 23.1971 6.26278 22.8917 6.68528C22.5816 7.11431 22.0624 7.8602 21.7465 8.29572C21.5861 8.5169 21.2963 8.91965 22.2569 8.91965H27.3126C27.3126 8.91965 28.1275 7.78732 28.8105 6.84069C29.7399 5.55301 28.8911 2.87329 25.5689 2.87329H12.4858Z"
                                    fill="#BF190E"
                                />
                                <path
                                    d="M9.29956 13.1259L13.8558 6.8042C13.8558 6.8042 18.9067 6.80425 19.5099 6.80425C20.1347 6.80425 20.1266 7.04672 19.8212 7.46926C19.511 7.89831 18.9832 8.63625 18.6673 9.07199C18.5069 9.29303 18.2171 9.69652 19.1776 9.69652H26.7521C26.1223 10.5777 24.079 13.1259 20.4099 13.1259H9.29956Z"
                                    fill="#BF190E"
                                />
                                <path
                                    d="M35.3932 9.6958L32.9224 13.1259H26.4048C26.4048 13.1259 28.8742 9.69654 28.8764 9.69654L35.3932 9.6958Z"
                                    fill="#BF190E"
                                />
                                <path
                                    d="M45.3781 8.91969H29.4364L33.7957 2.87329H40.3114L37.8128 6.34043H40.7213L43.2209 2.87329H49.7359L45.3781 8.91969Z"
                                    fill="#BF190E"
                                />
                                <path
                                    d="M44.8183 9.69653L42.3464 13.1259H35.8312C35.8312 13.1259 38.3007 9.69653 38.3029 9.69653H44.8183Z"
                                    fill="#BF190E"
                                />
                                <path d="M0 11.0488H9.60134L9.07673 11.7775H0V11.0488Z" fill="#BF190E" />
                                <path d="M0 9.69629H10.5768L10.0513 10.4239H0V9.69629Z" fill="#BF190E" />
                                <path d="M0 12.4019H8.62638L8.10439 13.1258H0V12.4019Z" fill="#BF190E" />
                                <path d="M71.0001 11.7775H61.4354L61.9603 11.0488H71.0001V11.7775Z" fill="#BF190E" />
                                <path
                                    d="M70.9999 13.1258L60.463 13.1267L60.9849 12.4019H70.9999V13.1258Z"
                                    fill="#BF190E"
                                />
                                <path d="M62.9345 9.69629H71V10.4243L62.4103 10.4248L62.9345 9.69629Z" fill="#BF190E" />
                                <path
                                    d="M58.7595 2.87329L54.4007 8.91965H47.4968C47.4968 8.91965 51.8564 2.87329 51.8586 2.87329H58.7595Z"
                                    fill="#BF190E"
                                />
                                <path
                                    d="M46.9379 9.69653C46.9379 9.69653 46.4617 10.3612 46.2303 10.6806C45.4118 11.81 46.1354 13.1259 48.8062 13.1259H59.27L61.7417 9.69653H46.9379Z"
                                    fill="#BF190E"
                                />
                            </g>
                            <defs>
                                <clipPath id="clip0_2_1759">
                                    <rect width="71" height="16" fill="white" />
                                </clipPath>
                            </defs>
                        </svg>
                    </div>

                    <div className="checkoutM__items-ListTotal">
                        <div className="checkoutM__items-Total">
                            <div className="checkoutM__total-left">
                                <p>Order</p>
                            </div>
                            <div>
                                <div className="PriceName">{getCartTotal()}$</div>
                            </div>
                        </div>
                        <div className="checkoutM__items-Total">
                            <div className="checkoutM__total-left">
                                <p>Discount</p>
                            </div>
                            <div>
                                <p style={{ color: 'black' }}>
                                    {dis ? (
                                        <>
                                            <div>{dis.discount}$</div>
                                        </>
                                    ) : null}
                                </p>
                            </div>
                        </div>
                        <div className="checkoutM__items-Total">
                            <div className="checkoutM__total-left">
                                <p>Delivery</p>
                            </div>
                            <div>
                                <p style={{ color: 'black' }}>Free</p>
                            </div>
                        </div>

                        <div className="checkoutM__items-Total">
                            <div>
                                <p>Sumary</p>
                            </div>
                            <div>
                                <div className="PriceTotal">{allTotal()}$</div>
                            </div>
                        </div>
                    </div>
                    <div onClick={handleSubmit} style={{ display: 'flex', justifyContent: 'center' }}>
                        <ButtonView props="Submit Order" size="mobile" />
                    </div>
                </div>
            </div>
        );
    }
};

export default CheckOutMobile;
